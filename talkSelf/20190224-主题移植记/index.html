<!DOCTYPE html><html lang="ZH-CN"><head><meta name="generator" content="Hexo 3.8.0"><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="referrer" content="no-referrer"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1,user-scalable=no,viewport-fit=cover"><meta name="author" content="椎咲良田"><meta name="copyright" content="椎咲良田"><meta name="og:image" content="https://cdn.jsdelivr.net/gh/sanshiliuxiao/blog-static/avatar.jpg"><meta name="og:type" content="website"><meta name="og:site_name" content="椎咲良田"><meta name="og:url" content="sanshiliuxiao.top"><meta name="og：title" content="椎咲良田"><meta name="theme-color" content="#b854d4"><title>椎咲良田</title><link rel="shortcut icon" href="https://cdn.jsdelivr.net/gh/sanshiliuxiao/blog-static/favicon.jpg" type="image/x-icon"><link rel="stylesheet" href="/css/index.css?version=2.0.0"><link rel="stylesheet" href="/font/fontello.css?version=2.0.0"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Fira+Mono|Noto+Serif+SC&amp;amp;display=swap"><link rel="canonical" href="//sanshiliuxiao.top"><link rel="dns-prefetch" href="//cdn.jsdelivr.net"><link rel="stylesheet" href="/lib/gitalk/gitalk.min.css"><script src="/lib/gitalk/gitalk.min.js"></script><script src="/lib/valine/Valine.min.js"> </script></head><body><div class="layout"><header><div id="header"><div class="mobile-bg" style="background-image:url(https://cdn.jsdelivr.net/gh/sanshiliuxiao/blog-static/mobile.png);"></div><h1 class="title">椎咲良田</h1><h2 class="subtitle">快走吧 趁风停止之前</h2><nav class="menu"><a class="menu-item pjax-main-link" href="/"><li><i class="icon-index"></i><span>首页</span></li></a><a class="menu-item pjax-main-link" href="/archives/"><li><i class="icon-archives"></i><span>归档</span></li></a><a class="menu-item pjax-main-link" href="/categories/"><li><i class="icon-categories"></i><span>分类</span></li></a><a class="menu-item pjax-main-link" href="/tags/"><li><i class="icon-tags"></i><span>标签</span></li></a><a class="menu-item pjax-main-link" href="/books/"><li><i class="icon-books"></i><span>书单</span></li></a><a class="menu-item pjax-main-link" href="/inspirations/"><li><i class="icon-inspiration"></i><span>灵感</span></li></a><a class="menu-item pjax-main-link" href="/friends/"><li><i class="icon-friends"></i><span>友链</span></li></a><a class="menu-item pjax-main-link" href="/about/"><li><i class="icon-about"></i><span>关于</span></li></a></nav></div></header><main><div class="main-wrapper"></div><div class="pjax-main-page"><div class="post"><article class="post-article"><div class="post-header"><img class="default-image" src="https://cdn.jsdelivr.net/gh/sanshiliuxiao/blog-static/postDefaultImage .png"><div class="post-head"><div class="post-title-wrapper"><h1 class="post-title">主题移植记</h1></div><div class="post-meta"><span class="post-date"><i class="icon-calendar"></i><span class="date timeago" datetime="2019-02-24T17:57:00.000Z"></span></span><span class="post-hot"><i class="icon-fire"></i><span class="leancloud_visitors" id="/talkSelf/20190224-主题移植记/" data-flag-title="主题移植记">热度<span class="leancloud-visitors-count">0</span>℃</span></span><span class="post-tags"><i class="icon-tag"></i><span class="tag">说说</span></span><span class="post-categories"><i class="icon-bookmark-empty"></i><span class="category">自言语</span></span></div></div></div><div class="post-content heti"><div class="markdown"><h2 id="我干了什么？"><a href="#我干了什么？" class="headerlink" title="我干了什么？"></a>我干了什么？</h2><p>这一周以来，咱一直在为移植主题而废寝忘食的编写代码，终于移植的主题，离高完成度也就只有一点点距离了，目前已经可以使用，但如果能再添加一些功能，主题的完成度将会更高。</p>
<p>这次移植的主题是蝉时雨大佬的<a href="https://github.com/chanshiyucx/aurora" target="_blank" rel="noopener">aurora</a>（意为极光）主题，原主题是由<code>vue</code>进行构建，后端数据依托<code>Github</code>。</p>
<p>咱把主题给移植成了<a href="https://github.com/sanshiliuxiao/hexo-theme-aurora" target="_blank" rel="noopener">hexo–theme-aurora</a>，还原程度还算高吧，可<code>hexo</code>和<code>vue</code>毕竟是两样东西，所以需要进行一些割舍。同时在页面的一些表现样式上有所调整，用以保证最大程度上样式的美观。</p>
<h2 id="我学到了什么？"><a href="#我学到了什么？" class="headerlink" title="我学到了什么？"></a>我学到了什么？</h2><p>在移植主题的开始，咱是两眼一抹黑，根本不知道该如何下手。谷歌搜索出的教程，也基本上是简单的介绍了一下主题的构建过程。咱想吧，这也忒难了，感觉自己啥都不知道，还想去移植主题？自己啥水平心里没有数嘛！</p>
<p> 可以不能这样放弃吧，不会就学咯，那就学咯，一步一步的解决问题，还是那句老话：在模仿中获得知识，在实践中进行验证。</p>
<p>过程中最深刻的应该是在编写分类和标签功能的时候。</p>
<p>在编写分类功能的时候，由于官方的辅助函数<code>list_categories()</code>提供的接口和最终生成的DOM结构，不符合原主题的DOM结构，于是就去翻看<code>list_categories.js</code>源码，最终根据源代码，仿写出了一个模板文件，来满足需求。</p>
<p>至于<code>list_tags()</code>的排序问题，官方给出的文档标签排列方式默认是’name’（其他的呢？？？），结果这会导致标签显示与写文章时候的标签顺序不一样，最后还是翻源代码的时候，翻到了还能使用<code>id</code>，解决了这个问题。</p>
<p>临近结束发现rem布局问题，最开始依赖于执行一次<code>setRem</code>计算函数，即为根元素添加font-size，这样导致的问题就是每次加载页面的时候，页面总是从一团文字拓展开来。其原因就是根元素一开始并没有设置font-size。所以解决办法就是使用css的媒体查询方法，在一开始就预先给根元素设置font-size，同时取消<code>setRem</code>函数的执行。</p>
<p>在移植主题的过程中，咱学会了去翻官方的文档，甚至源代码，学会了如何去分离通用模板和通用样式，学会了去通过模仿其他主题的源码，对自己的代码进行改造。当然，使用的<code>ejs</code>模板和<code>stylus</code>语言也在这个过程中基本学会了，同时借助了很多第三方的代码，来对主题进行功能的优化。</p>
<div style="text-align : center"><!-- 歌曲名 --><p> </p><!--嵌入的音乐iframe --></div><h2>Google广告</h2><div class="google-ads-post-wrapper"><div class="google-ads-content"><div class="google-seat"><p>假装这里有广告</p></div></div></div></div></div></article></div><div id="gitalk"></div><script>var gitalk = new Gitalk({
    clientID: 'df197d1e1761f7b45688',
    clientSecret: 'cfbd1df2464d6ce367281fdc437d60701867b30a',
    id: '2019-02-25 01:57:00',
    repo: 'comments',
    owner: 'sanshiliuxiao',
    admin: 'df197d1e1761f7b45688'
})
gitalk.render('gitalk')</script></div><div class="pjax-main-loading loading"><img class="loading-image" src="https://cdn.jsdelivr.net/gh/sanshiliuxiao/blog-static/loading.gif"></div></main><footer><div class="footer site-info"><p><i class="icon-copyright"></i><span>2018</span>&minus;<span>2021</span>&nbsp;&nbsp;&nbsp;<i class="icon-heart"></i>&nbsp;&nbsp;<span>椎咲良田</span></p><p><a href="https://github.com/sanshiliuxiao/hexo-theme-aurora.git" target="_blank">hexo-theme-Aurora</a>&nbsp; | &nbsp;快走吧 趁风停止之前</p></div></footer></div><div id="sakura-panel"><img class="sakura-icon" src="https://i.loli.net/2020/12/27/rPA2XaEJsnq5UIC.png" alt="sakura"><div class="sakura-mask"></div><div class="sakura-container"><div class="wrapper"><div class="short-line"><div class="line"></div><div class="line"></div></div><div class="main"><div class="body"><div class="swiper-wrapper"><ul class="swiper"><li class="swiper-item"><div class="header"><h2>联系方式</h2></div><div class="container"><div class="item"><h3>Q Q</h3><img class="qr-code" src="/images/qq.png"></div><div class="item"><h3>微信</h3><img class="qr-code" src="/images/vx.png"></div></div></li></ul></div></div><div class="footer"><p class="like"><span>已有 </span><span class="like-num leancloud-app-like">0</span><span> 人点赞了哦！</span></p><div class="star" data-title="点赞一下 (&lt;ゝω・)☆"></div></div></div><div class="long-line"><div class="line"></div><div class="line"></div></div></div></div></div><div class="bg"><div class="pc-dynamic-bg"><span class="image" data-image="https://cdn.jsdelivr.net/gh/sanshiliuxiao/blog-static/theme/1.jpg"></span><span class="image" data-image="https://cdn.jsdelivr.net/gh/sanshiliuxiao/blog-static/theme/2.jpg"></span><span class="image" data-image="https://cdn.jsdelivr.net/gh/sanshiliuxiao/blog-static/theme/3.jpg"></span><span class="image" data-image="https://cdn.jsdelivr.net/gh/sanshiliuxiao/blog-static/theme/4.jpg"></span><span class="image" data-image="https://cdn.jsdelivr.net/gh/sanshiliuxiao/blog-static/theme/5.jpg"></span><span class="image" data-image="https://cdn.jsdelivr.net/gh/sanshiliuxiao/blog-static/theme/6.jpg"></span><span class="image" data-image="https://cdn.jsdelivr.net/gh/sanshiliuxiao/blog-static/theme/7.jpg"></span><span class="image" data-image="https://cdn.jsdelivr.net/gh/sanshiliuxiao/blog-static/theme/8.jpg"></span><span class="image" data-image="https://cdn.jsdelivr.net/gh/sanshiliuxiao/blog-static/theme/9.jpg"></span></div></div><span class="back-to-top"></span><div class="leancloud"><script src="/js/third-party/leancloud.min.js?version=2.0.0"></script><div class="leancloud-app-id" leancloud-app-id="QAIKomD08e9fmVRQP4tkzUDf-MdYXbMMI"></div><div class="leancloud-app-key" leancloud-app-key="vi0TViY0HvYocUR3HxKGd1l9"></div><div class="leancloud-app-hot"></div><div class="leancloud-app-visitor"></div></div><script src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js" data-ad-client="ca-pub-9441161448418285"></script><div class="google-ads-ad-client" data-ads-ad-client="ca-pub-9441161448418285"></div><div class="google-ads-post-page" data-ads-solt="3867936552"></div><div class="google-ads-about-page" data-ads-solt="6860833347"></div><link rel="stylesheet" href="/lib/APlayer/APlayer.min.css"><script src="/lib/APlayer/APlayer.min.js"></script><div id="aplayer"></div><script>let list = JSON.parse('[{"name":"Once more","artist":"阿保剛","url":"https://files.catbox.moe/13boxb.mp3","cover":"https://i.loli.net/2019/04/18/5cb87157c617e.jpg"},{"name":"All or None","artist":"阿保剛","url":"https://files.catbox.moe/4x69y9.mp3","cover":"https://i.loli.net/2019/04/18/5cb87157b537a.jpg"},{"name":"Karma","artist":"阿保剛","url":"https://files.catbox.moe/r5dsuh.mp3","cover":"https://i.loli.net/2019/04/18/5cb871583cfb7.jpg"},{"name":"星の奏でる歌","artist":"阿保剛","url":"https://files.catbox.moe/m1wd57.mp3","cover":"https://i.loli.net/2019/04/18/5cb871585123b.jpg"}]')
  const ap = new APlayer({
      container: document.getElementById('aplayer'),
      theme: '#b28fce',
      audio: list,
      fixed: true
  });
  ap.list.show()
</script><script src="/js/third-party/jquery.min.js?version=2.0.0"></script><script src="/js/third-party/isMobile.min.js?version=2.0.0"></script><script src="/js/third-party/timeago.min.js?version=2.0.0"></script><script src="/js/third-party/pjax.min.js?version=2.0.0"></script><script src="/js/third-party/zooming.min.js?version=2.0.0"></script><script src="/js/third-party/backstretch.min.js?version=2.0.0"></script><script src="/js/highlight.min.js?version=2.0.0"></script><script src="/js/index.js?version=2.0.0"></script></body></html>